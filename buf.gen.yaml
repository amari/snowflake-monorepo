version: v2
clean: true
plugins:
  # BSR remote plugin
  - remote: buf.build/protocolbuffers/go:v1.31.0
    out: snowflake-go/pkg/proto
    opt: 
      - paths=source_relative
  # gRPC Go plugin
  - remote: buf.build/grpc/go:v1.5.1
    out: snowflake-go/pkg/proto
    opt:
      - paths=source_relative
  # gRPC Python plugin
  - remote: buf.build/community/danielgtaylor-betterproto:v1.2.5
    out: snowflake-python/src/snowflake_python/proto
  # gRPC TypeScript plugin
  - remote: buf.build/bufbuild/es:v2.9.0
    out: snowflake-typescript/snowflake-proto/src/proto
    opt:
      - target=ts
      - import_extension=js
  # TODO: Add Rust plugin when available
inputs:
  - directory: proto
